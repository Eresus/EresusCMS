Действия при удалении модуля
============================

.. danger::
   Этот раздел устарел и должен быть переписан!

Чтобы выполнить какие-либо действия при деинсталляции плагина, необходимо переопределить метод `Plugin::uninstall() <../../api/Eresus/Plugin.html#uninstall>`_.

Не забывайте вызывать родительский метод. Обычно родительский uninstall вызывается после собственных действий:

.. code-block:: php

   <?php
   /**
    * Тестовый плагин
    */
   class MyPlugin extends Plugin
   {
     ...
     /**
      * Действия при удалении плагина
      * @return void
      */
     public function uninstall()
     {
       // Необходимые действия
       parent::uninstall();
     }
     ...
   }


.. important::
   Все таблицы в БД с именами вида ``ИмяПлагина`` и ``ИмяПлагина_*`` будут удалены автоматически. Такое поведение реализовано в системе начиная с версии 2.10 и распространяется только на потомков `Plugin <../../api/Eresus/Plugin.html>`_.

Для удаления директорий данных плагина рекомендуется метод `Plugin::rmdir() <../../api/Eresus/Plugin.html#rmdir>`_.
