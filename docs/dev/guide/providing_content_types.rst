Предоставление типов разделов (типов контента)
=============================================

В Eresus CMS каждый раздел сайта имеет свой собственный тип. Есть несколько встроенных простых типов,
таких как текстовые страницы, списки подразделов и переадресация. Модуль расширения может
предоставить свои собственные типы контента, это позволит администраторам сайта создавать разделы
этих типов. Например, модуль «Каталог товаров» может предоставлять одноимённый тип для создания
разделов со списками товаров.

Для предоставления типа раздела надо сделать следующее:

#. Добавить в :doc:`../reference/plugin.yml` раздел ``content_types``.
#. Написать контроллер КИ для нового типа раздела.

plugin.yml
-------------------

Добавим в конец файла ``plugin.yml`` следующие строки:

.. code-block:: yaml

   content_types:
       -
           title: "HTML"
           controller: Default

Они означают что:

#. Наш модуль предоставляет один новый тип раздела
#. Название этого типа — «HTML»
#. Внутреннее имя этого типа — «Default»

Контроллер КИ
-------------

Контроллер КИ должен располагаться в пространстве имён ``Acme\Foo\Controller`` и называться
``Client[Имя типа контента]Controller``. Если имя вашего типа контента — «Default», то класс
должен называться ``ClientDefaultController``.

Этот метод будет вызван при выборе в :doc:`меню разделов</manage/ui/menu-content>` раздела, обслуживаемого вашим модулем.

Метод должен ваозвращать разметку HTML, которая будет показана в :doc:`рабочей области</manage/ui/overview>`.

.. code-block:: php

   <?php
   class MyPlugin extends ContentPlugin
   {
      ...
      public function adminRenderContent()
      {
        ... // К примеру, создаём здесь разметку диалога и помещаем её в переменную $html;
	return $html;
      }


