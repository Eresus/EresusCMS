Файловая структура модуля
=========================

Внутри папки модулей (``/plugins/``), каждый модуль должен располагаться в отдельной папке, которая
должна быть вложена в папку с названием или именем разработчика. Например, если компания «Acme»
разрабатывает модуль «Foo», то он должен располагаться в папке `/plugins/Acme/Foo`.

В корневой папке модуля должен располагаться файл :doc:`../reference/plugin.yml`, содержащий
описание модуля.

В остальном структура папок схожа со структурой пакетов (bundles) Symfony 2.

* ''Acme/'' --- папка разработчика (Acme)

  * ''Foo/'' --- папка модуля Foo

    * ''Controller/'' --- контроллеры

      * ''Admin/'' --- контроллеры АИ

        * ''Content.php'' --- контроллер наполнения раздела
        * ''Settings.php'' --- контроллер диалога настройки

      * ''Client/'' --- контроллеры КИ

        * ''Content.php'' --- контроллер наполнения раздела

    * ''Entity/'' --- модели предметной области
    * ''Resources/'' --- ресурсы

      * ''views'' --- шаблоны

        * ''Settings.html.twig'' --- шаблон диалога настроек

    * ''Bundle.php'' --- :doc:`класс пакета Symfony 2<../reference/Bundle.php>`
    * ''plugin.yml'' --- :doc:`описание модуля<../reference/plugin.yml>`

Шаблон модуля
-------------

.. danger::
   Этот раздел устарел и должен быть переписан!

В дистрибутиве, в папке ``SDK/plugin_template`` расположена заготовка, которую вы можете
использовать его для создания своего модуля. Этот шаблон состоит из следующих папок и файлов:

* ''src/'' --- исходные коды модуля
  * ''myplugin/'' --- дополнительные файлы модуля (начиная с 2.16)
    * ''plugin.xml'' --- :doc:`описание модуля<plugin.xml>`
  * ''myplugin.php'' --- основной файл модуля
* ''tests/'' --- автоматические тесты
  * ''phpunit'' --- тесты `PHPUnit <http://phpunit.de/>`_
* ''build.xml'' --- файл сборки для `phing <http://phing.info/>`_
* ''build.properties'' --- параметры сборки для ''build.xml''
